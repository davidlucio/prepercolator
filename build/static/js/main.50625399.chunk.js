(this.webpackJsonpprepercolator=this.webpackJsonpprepercolator||[]).push([[0],{30:function(e,A,t){},65:function(e,A,t){"use strict";t.r(A);var n=t(1),c=t.n(n),r=t(31),i=t.n(r),s=t(2),a=t(6),o=t(4),d=t(39),l="https://prepercolator-backend.herokuapp.com/api",j={getIngredients:function(){return d.get("".concat(l,"/ingredients/"))},getIngredientByTier:function(e){return d.get("".concat(l,"/ingredients/tier/").concat(e))},getDrinkTemplates:function(){return d.get("".concat(l,"/drinks/"))},getUserDrinks:function(e){return d.get("".concat(l,"/drinks/user"),{headers:{authorization:"Bearer ".concat(e)}})},getTypes:function(){return d.get("".concat(l,"/type/"))},addNewIngredient:function(e,A){return d.post("".concat(l,"/ingredients/"),e,{headers:{authorization:"Bearer ".concat(A)}})},addNewDrinkTemplate:function(e){return d.post("".concat(l,"/drinks/"),e)},deleteIngredientById:function(e,A){return d.delete("".concat(l,"/ingredients/").concat(e),{headers:{authorization:"Bearer ".concat(A)}})},getUserByToken:function(e){return d.get("".concat(l,"/users/user"),{headers:{authorization:"Bearer ".concat(e)}})},deleteUserByToken:function(e){return d.delete("".concat(l,"/users/delete"),{headers:{authorization:"Bearer ".concat(e)}})},getOrderbyUserToken:function(e){return d.get("".concat(l,"/orders/").concat(e),{headers:{authorization:"Bearer ".concat(e)}})},addOrder:function(e){return d.post("".concat(l,"/orders"),e)},login:function(e){return d.post("".concat(l,"/users/login"),e)},signUp:function(e){return d.post("".concat(l,"/users/"),e)}},u=c.a.createContext(),g=t(3),b=t(0);function O(e){e.updateTable;var A=Object(n.useState)(!1),t=Object(s.a)(A,2),c=t[0],r=t[1],i=Object(n.useState)([]),a=Object(s.a)(i,2),o=a[0],d=a[1],l=Object(n.useState)({ingredient_name:"",typeId:0,is_vegan:!1,price_per_unit:1,tier:"Base"}),u=Object(s.a)(l,2),O=u[0],h=u[1];Object(n.useEffect)((function(){j.getTypes().then((function(e){console.log(e.data),d(e.data)}))}),[]);var x=function(e){switch(e.target.name){case"newExisting":r(!c);break;case"ingredientName":if("ingredientName"===e.target.name){var A=Object(g.a)(Object(g.a)({},O),{},{ingredient_name:e.target.value});h(A)}break;case"ingredientType":if("ingredientType"===e.target.name){var t=Object(g.a)(Object(g.a)({},O),{},{typeId:e.target.value});h(t);break}break;case"pricePerUnit":var n=Object(g.a)(Object(g.a)({},O),{},{price_per_unit:e.target.value});h(n);break;case"tier":var i=Object(g.a)(Object(g.a)({},O),{},{tier:e.target.value});h(i)}};return Object(b.jsxs)("div",{className:"bpActions",children:[Object(b.jsx)("h3",{children:"Add a New Ingredient"}),Object(b.jsx)("div",{children:Object(b.jsxs)("form",{className:"bpForm",children:[Object(b.jsx)("label",{className:"newTypeLabel",children:Object(b.jsxs)("p",{children:["New Type?",Object(b.jsx)("input",{name:"newExisting",type:"checkbox",checked:c,onChange:x,value:c})]})}),!1===c?Object(b.jsx)("select",{name:"ingredientType",value:O.type_id,onChange:x,children:o.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.type_name},e.id)}))}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{name:"newTypeName",type:"text",placeholder:"New Type Name",onChange:x}),Object(b.jsx)("input",{name:"newTypeUnit",type:"text",placeholder:"New Type Measurement Unit",onChange:x})]}),Object(b.jsx)("input",{name:"ingredientName",type:"text",placeholder:"Name of Ingredient?",onChange:x,value:O.ingredient_name}),Object(b.jsx)("label",{className:"newNameLabel",children:Object(b.jsxs)("p",{children:["Tier:",Object(b.jsxs)("select",{name:"tier",value:O.tier,onChange:x,children:[Object(b.jsx)("option",{value:"Base",children:"Base"}),Object(b.jsx)("option",{value:"Main",children:"Main"}),Object(b.jsx)("option",{value:"Flavor",children:"Flavor"}),Object(b.jsx)("option",{value:"Topping",children:"Topping"})]})]})}),Object(b.jsx)("label",{className:"newVeganLabel",children:Object(b.jsxs)("p",{children:["Vegan:",Object(b.jsx)("input",{className:"bpActionsCb",name:"isVegan",type:"checkbox",checked:O.is_vegan,onChange:x})]})}),Object(b.jsxs)("label",{className:"newPriceLabel",children:[Object(b.jsx)("p",{children:"Price per Unit:"}),Object(b.jsx)("input",{className:"bpActionsCb",name:"pricePerUnit",type:"number",value:O.price_per_unit,onChange:x,placeholder:0})]}),Object(b.jsx)("button",{name:"submitNewIngredient",type:"submit",onClick:function(e){var A=localStorage.getItem("token");e.preventDefault(),console.log(O),O.ingredient_name.length>0&&(console.log("New Ingredient to add: ".concat(O)),j.addNewIngredient(O,A).then((function(e){console.log("New Ingredient added: ".concat(e))}))),h({ingredient_name:"",typeId:0,is_vegan:!1,price_per_unit:1,tier:"Base"})},children:"Add Item"})]})})]})}function h(){var e=Object(n.useState)([]),A=Object(s.a)(e,2),t=A[0],c=A[1];Object(n.useEffect)((function(){j.getIngredients().then((function(e){console.log(e.data),c(e.data)}))}),[]);var r=function(){j.getIngredients().then((function(e){console.log(e.data),c(e.data)}))},i=function(e){var A=e.target.value;console.log("Setting IngredientID:".concat(A," to sold out")),j.sellOutIngredientById(A).then((function(e){console.log("Successfully set IngredientID:".concat(A," to sold out. ").concat(e))})),c()},a=function(e){var A=e.target.value,t=localStorage.getItem("token");console.log("User double-clicked delete, move to delete item"),j.deleteIngredientById(A,t).then((function(e){console.log("Successfully deleted Ingredient. ".concat(e))})),r()};return Object(b.jsxs)("div",{className:"bpViewIngredients",children:[Object(b.jsxs)("div",{className:"bpAvailable",children:[Object(b.jsx)("h3",{children:"Available Ingredients:"}),Object(b.jsx)("ul",{children:t?t.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{children:e.ingredient_name}),Object(b.jsx)("button",{value:e.id,onClick:i,children:"Sell Out"}),Object(b.jsx)("button",{value:e.id,onDoubleClick:a,children:"Delete"}),e.isSoldOut?Object(b.jsx)("p",{children:"Sold Out"}):null]},e.id)})):Object(b.jsx)("li",{children:"Loading..."})})]}),Object(b.jsx)(O,{className:"newIngredient",updateTable:r})]})}var x=t(12),p=t.n(x),m=t(13);function f(e){var A=e.drink;return Object(b.jsxs)("div",{className:"bpDrinkTemplateCard",children:[Object(b.jsx)("h5",{children:A.drink_name}),Object(b.jsxs)("p",{children:["A ",A.size," ounce ",A.is_steamed?"Hot ":"Iced "," drink."]}),Object(b.jsx)("h6",{children:"Ingredients:"}),Object(b.jsx)("ul",{children:A.ingredients?A.ingredients.length>0?A.ingredients.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{children:e.ingredient_name}),Object(b.jsxs)("span",{children:[e.drinkIngredients.amount," ",e.type.type_units]})]},e.id)})):Object(b.jsx)("li",{children:"Looks like theres nothing here..."}):null})]},A.id)}function I(e){e.user;var A=Object(n.useState)([]),t=Object(s.a)(A,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var A;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A=localStorage.getItem("token"),j.getUserDrinks(A).then((function(e){r(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),Object(b.jsx)("div",{className:"bpViewDrinks",children:Object(b.jsxs)("div",{className:"bpDrinkTemplates",children:[Object(b.jsx)("h3",{children:"Current Drink Templates:"}),Object(b.jsx)("div",{className:"bpDrinkTemplateCardBox",children:c?c.map((function(e){return Object(b.jsx)(f,{drink:e},e.id)})):Object(b.jsx)("div",{children:"Loading..."})})]})})}function B(e){var A=e.user,t=Object(o.f)();return Object(b.jsx)("header",{children:Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)(a.b,{to:"/",children:"Home"}),Object(b.jsx)("img",{className:"logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAReHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja3ZprdiM7joT/cxW9BD4Bcjl8ntM7mOXPh8x02XJVua7v7ZkfbZUsOZXJJIFARIAqt//n38f9i58Si3e5aJUm4vnJLbfYeVP9/dOv38Hn6/fbT3yOvhx3Pz6IHEq8pvuDKs9lm+OcEeJzfN6voXO8fBio7eeD8fpBfwaK9bnB24yeG6Vw38CvZ6D+DJTic+d8/z2eO0ur+nEJ622B9TlS76ezXzlplCJBM79z9KrSeF+jz0rclk006R2Ctxt9/tu9nRqZU9wpJH/9zvcskz1D6rxWfsfE4PYp71Mq1xG5o+xIGVNg5PbE9lmqRfMlNu9Z++WP+yvLeuDwGQbhIwzcTx98goHs53j6lD358Xodd58/COXX6b5y+mFGmn/cOL7OSEN6WXR9f56z6jn7Xl3PwpLlWdTbSoIh204cBoLrMuGhPAvv9Xo0HpVymaR6+ekHjxlaiNz6hBxW6OG4sK83M0zmmOOOymuMk6zbsUouWpzpTjqPcKKmlhZwiGkClcTReI575hKu+7brfjNU7rwCp8bAYIFL/vhwf+Wkrx7nWC2F4J6aCXeCo8GeaVjm7DenkZFwnqCWK8Bvj1dAPolNpLBcYa4ssPtxDzFKeMdWuhKdOK/wetdY0HVfbwNl7l2YTEikwEtIJUjwGqOGQCArCerB15hyHGQglBIXk4w5JSE3FAG3dlyj4To3lngfhyXJREmSlNy01ElWzgX8aK5gqJdUcilFipZaWumSJDsqTETF6LZr0qxFRVWrNu011VxLlaq11lZ7iy3BxqVRjq221nrnnp2Ru7jO+Z0jI4408ihDho462ugT+Mw8y5Sps842+4orLep4ydJVV1t9hw2Udt7Fbdm66267H7B20smnHDl66mmn/8jak9WfHt/IWniyFq9M2Xn6I2scVb1f3YUXBrGckbGYAxlXywCAjpYzX0PO0TJnOfMtGjlGJlksNyv4HiRml/IOsZzwI3fvmftW3pzkL/MW/2rmnKXuH2buypvb5UPefpG1ZbI9r4zdVWgx9Ynq45weK/9Q01jd25t/+vr/NtCY8+w4zywpbVQyrj01rypx1CVxN52Tgj/RQYrapmzYvMbcNuIAjcZ88gwn1MX1aWrdffbTooyxED97hqN9bRlSFxE8Trh5h4mnhj2l+rRHYiJBZ2ybCxmNwAM8LX34NWHi7WsK46xdVw0zRZIC+c9TUxkFwJeQS/jbr+47F5QJTjsxA50lzbD38dJDB6niTmFdx5SEAt2SK6XVJsVRM7XCEmrdo2x/8CinbkZhlWfOUVaYeiStOqgOcVHm3DsZHBlupjU2hqSegrMhG3uhgZJ2DIUERiprlU2eVDr3HJFcLZ5j4Y9KqPOUvZYnP5TSirmexJPXPU9MCCQ/yijcLrdDUeHbdOVxBgUEwZANl9LQdnwm0bvDImNwpUc+IWKowKbvWxq+TUUBdCySXnSG1bPltwlaDJoWRVsoL8o9X1Mpk/rGTxKUXreXHHin/cg8XlloKHGCidWV0FDOVomJ1YiTjh2U0LQeTMNosbAoKZwAOqSCw+V15tGTsrKZqfG6es1BG9EbYw45jbeuGKJ2yWcgWH38X+EIK2LkyUS64ZvYEJYJWyFVpeWhSVacQTq2RljoZR9D7qa6k0ILcxPslYsNR8XpLCRkaE2HsTQoAJqL5dVj8QpYWMdCD3+z9rHmNtLTGrVOapU5dCYDsij5ng+1OLyc07hv3TqX5XSRsgoq3VlrYaNx96GDnq9YJW4xigYlPa4Ty94N3k6rk2p1azW0J3bYVsPKPD0FNBZEEwFcLgu2jbPIggsgGHBN+UAno0xQV6cWSg+lldQOLgMmH4Rh253T3vn4deo41GEQggCLYVJilY2uzDHF7wXetoaTIlTit0N1aBR0CBS1x4bRoKzaKG7OSxEKkl4C4oJAo59TfQJ1K/cWYDusGo3DSbs5VtobSwCPUkcFhsnYkMj3PoUIU6wkTweuqWxtPZ4p6zDcQEuzIE1URusuzx3T2JXF1inaWXWnQET3UQJG4vbpiBcxOiwyoXalGVusXQqOdY5AyIq6kpaZsRotLeVvykiq3S1mTzJrGBligJko6kWJJ8prqBJSrBwVFX0RPiW/hMVSC0NOohQ7mMdvO8aARg5W24hto+oQx7HWFNVYumM/pHxzLhy5CXJqqzQWe6IoIKDDpM1twQW4jLkU66+1KyHDApWSSTfGPZW5zMOYAjXgljuplzhpRgL9CQKfTr1YzoE6c9FjKDZOD71Goghi0YvJp0GCJF1Rj2cAv02+2qggoswyGi7Cw4lmjzt5LgMOhI/gSCa04SUMfdmHZUlLNuTiMG8GrQj570vaOB6GRgUYcgzXEv4buxRLaZDr5F2uRrYdioQOmlC0YWBWBq07CZiDAhuHyJjVUhMgA727FmBCfi0FgyPcdYNQGjRTaH+n99inlQX3a36YgYWtWUeamU0udsd3Uk6i2mlj20mwxnVybX3TZzGrff29EUip9o4gJ132TiHvK8cJOTpvE3qZDhe+TIjL3yb0Mh1mZxM6Zo+fKRGPe1L3lF4n9DadY27tms49GcIzqxGggwLWDsecR6VdJbYik1zBfhQ4WJEDV1HeRqEknIhc8yAdNtJS8At/imPic1nFcNrYtheyJHXgvE7Bm64sk/rc0M/JHXeDszEw2sKxu9uaWh92Sa4QlFAPPFsrWD4qI21TLpxQl73mETya0m4Z6nfGddlWDGjYFZVBMc3QVe8ACSXFn+gKSmncry1sJNxkgwoOjWupbKDaOZzKQeQryhgQbxMKzDtS4kQW7a9So6F1jECPIHwj5PQL+2pb6/VrmzbpSsbHxhfC3RKOnfvLagR7Yxqo5TSxcxEz07DlB370s5kWJHsWhKFYy0ghDxRgKkHAp2J9cJqMFxP+qOPooQ86GxaPQrF4cFTxLAEzcgJZBzGJel2jb+RVxhHSGr0SKEZdBRO/3LH9HlQNa3XF37Qy2DLCX3xVQjylUCLFsF3W9qMhJYW5IAfdfE+QGeh5OBPTl0L1uc163Zi+qEB8QydqQUOSSD+n4+DgSAoiouIZ7QVjIR3wHQ7+AAs5tskMrs+4J9CVjdwYbddAYmHFUdzM6BNWteGbo27WCIqreEiGOwsLpa2sGMQR+tygaywsdjSyCxOO5cYIpG6XcKihr9Ntp7BftfXbV1ovSpDKI9B3YQNjGqiWlzppPwroc/nc1TMWZkaMeRsi3ysn1NivYRbNacHKLB3e6Z5W3bHAmwjJ8OUuyp4kXv5PAbdBZgddprL0ttmcqFlCPJ81g0DeOzSeuaFT1DvkOo1mcyUTt52g58BW0QyZwwLRsPMKsNYWzP9IUAT+DImvzGij0iAO7wkmBYzjfOA0bCydQut4cHpUEIbRE6ObiLVuxVczn3jmeqaRAK7W3C8WyKZG7d6dEDELiDi64zX4OXHzAzm1/UoqYiazIoBrdabWLQLDrQEQMqJdykrWTIWBLuMXtPhuMhloDLpteylqpTQxc9Feo1ZQIJKNKK3ohzhKE1+xUscnrdps/wyWUIR7GN/DwWMAM4L7NT7cK1Aa5VqhXroanCc4Hki2j5GCJdGT6atMjkYbmlvhcs2h4yvdthEIzJmp0EoyyD6Mgxgbi9I6CTVY16R3GAClmRoXygebSR69tTRQx64u2z7tVHKU46ZJwG4DftxMCNguvMeBkmzbC9tlOwikl5mCgF6xn9Ad6PMkmZ72avvoO0JCv7CxgClW2D4YJipTpxszlEN/X9gtd73ZmB9sKIgIpmkU+6WtAh3jonH6kBxlk/2liRT/pcixWVTw5kfA0WpWWcwIH35d7LuVJdEpOBizG4H2jtLEE7FI7mLh4hJa7G7Yb/fGhulaA1oIIVJAX5DE+KHECJV3zuKG3uRD4MNB+eJdsjWAgRzTJcNWECH847CEl9XBheeUpn2QFgqE4M9dOgkpFSEexhjj2heoheJsuGqsH9SHg01pi/MINc0onpxLKdzoLRljon7H7DbYtV5CuBso34hQtH2zhFVPpNp2csOCKdxIogmlwlgj7/tvdH6hsrYN+a9lykkPs2xDqKBc5g0rPXEUJl2MWYg9zb366ZEnZKiZaqW6YojcG+R1R/tX56SfrkJLgZ8m/3QiJ3Gp9cejHPVGB+e2VvS8fRuDprxuApzmahnojwv4DCMOGZAMRnv94HH3CyI30QOGUNFXNMxgFxIfILoHiQ8OKRYiRADpeJY1xxdIwQ252tg5H5ftW6QRpzkf2oc97Tu1k1wMOAcoIF3WWm1HhAyCJki5r5zpzlBEOoVCb03DrSqhVFoX+n4c31Lb1ATOdEeknTBDkFi2YuQuh3UNOhyaNUhzlZWrwL2EghaIto9I0/KtagzWjYMCKjIHdo14jQ5rUR1DbQMtIheES6/Ne4xXOwXp6KjGAa723QJeKSaMw8gUPHTvYJVuyuxpEWnEsfj0EASB0c1P70nrYOEEUZWMYyaYHs1Bp2OotcJyhBTv6fCVJfW/s2VI1rfZctrbMkk/K2lXh5RJ+hliRa13D0DnVfRmptDlFulthbvkJ/533zEKX/kE9xgF+h8/bScO/fHwE1NC4hbdZ+moFi4UWbBvIUZqVDntdfb2hRA3aNaDTMdUjTCVMigKUTcqIng6MGs9MgSBrAk9qJp64N1sn0XIR7eOGhtaqg4cSUOyCTXW3tqzbPVfy5xDk2pKsiEAQ2IyJkIEzHVWOkWzqLYN18yqXttw3tE/9nTtw9kXaRjDLOYepqmS3akta5LwD8TZDBo2c+ZIg01ZMVMaoam2d+O6YSsQCHSaYqHdwQ9RV4pYjgR52IZXTT1ibLjSUIrxpjah942isbSKwUggW1hCEEMyEFQ85sAqQJgULETSorkt2zdcthlFHoK11iYfE/vf0xqNvledh8Jry3tTxPY9a6mYNNyr0NHZ1gXKBmb/7Lrd7z6AvJL1ibMh+hcLDayx6dmxlc3yRpoPZbqHM98Y8/uE+eiu+8SYxso3pC9AUxTvlEmVTG/dvrS0Kf1AR7kGwiopFGftTKHlQ7Ho6FcP5vpAW6bXmylh00BJPyl+5NVfCLy7ebWYqOHb/cEFLs5PpKPyQh+87VsSLZleF7tNFiWDk6VYpPIf+xbinUqcccl/gkrcd3uO31GJ+27P8Tutcx96jj81R1++uo8regLzFpY7KBaSsbFnrxz9GldmdEr9Y27eLCbl99FkvlhM90tz8O4xXxH4IuyvFtNZkX/pMv8irNw3pMvydwfmM9yIqvsU1l+L1m+B9l7i7r3GP2Lt5/2hz2AzzH+EG0r7M9rM4N14Mzq7EPdHuLnv42/Y3i5RaBiXbV++Ndoq79pKIXZMarEdmkI72UJoEwvDnIK5j4EUooEgBsdL+6lY2359swWdMFiRiHtyWGQJqKmashCCcPdftueFWtRo3+jotP2bGoyPBSm1/0SDY7PJ2PfPuCcMe7I2ud+7iRWTlv2z/0dSNuKql3Qfuo05J8ZN7Wu2EZqg/5vZgHMkPg1ipHMGrkKKxfpI+48XK0OTp91OemPl8Onr3kPFAyBu88xJCnTjEfAS59BB3pP4PIULAvTpV1kWnID5SaY95NqLvT74cNhU5PrS7f7D0xnU8GxaRtv7bBcnYqxtH2gsjtv2ab52kZftcq74rML9vIy39QHT6yPGtw/fV/hpfcyDFbp7iV8Fuv1yKc8afyzfva7/bZXPGl9WaLQ0i21XUU4dbxtGQf1sM62l5myjbQ0SFhaOe+MfRvhuoG0GDl/kzehbmdEs0DuGPoSSihGIg2v6fFSy2i5Nm7nPuXne3+2K4lkoU6YqzvbsmL7IWtG+kWGeNMVjscTl+7DR6EfoaRaFDyLpWWyXZ8CenER711hOqduZHZrFCGn1XITuhf45RBoPFUbMthm3N1EgZfKF0Lh/oED/lQMdMwKA8H8BNdzdGWjxd/YAAAGEaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX1PFIhUHK4h0CFKdLIiKOEoVi2ChtBVadTC59AuaNCQpLo6Ca8HBj8Wqg4uzrg6ugiD4AeLm5qToIiX+Lym0iPHguB/v7j3u3gFCo8JUs2sCUDXLSMVjYja3Kva8IoAwBjGCgMRMPZFezMBzfN3Dx9e7KM/yPvfn6FPyJgN8IvEc0w2LeIN4ZtPSOe8Th1hJUojPiccNuiDxI9dll984Fx0WeGbIyKTmiUPEYrGD5Q5mJUMlniaOKKpG+ULWZYXzFme1UmOte/IXBvPaSprrNMOIYwkJJCFCRg1lVGAhSqtGiokU7cc8/MOOP0kumVxlMHIsoAoVkuMH/4Pf3ZqFqUk3KRgDul9s+2MU6NkFmnXb/j627eYJ4H8GrrS2v9oAZj9Jr7e1yBHQvw1cXLc1eQ+43AGGnnTJkBzJT1MoFID3M/qmHDBwC/Suub219nH6AGSoq+Ub4OAQGCtS9rrHuwOdvf17ptXfD4SOcq48KYR5AAAABmJLR0QAAACIAMyEt3/cAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QgcFSMa+cRs9wAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAApbSURBVHja7d3BbttIEEVRl6H/JvjllVWCLLJQLInsrnfOejADaEjW7TItV3d/AQBZvn0EACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAMBvDx8B7Kuq+tl/trvLJwb8eX50t08BBg9+IQAIAAge/EIA+Jt3ACBw+H/i3wcIAGDx4S8CAAEAocNfBIAAAEKHvwgAAQCEDn8RAAIAABAAQMrp3xYABAAAIACAtFO4LQAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgCG6+5K/u8DAgAAEABgC+D0DwgAAODHqttf/oSlbsoF/hyvTQAIACBo8AsBEABA8OAXAiAAgODBLwRAAADBg18IgAAAgge/EAABAAQPfiEAAgAIHvxCAAQAEDz4hQAIADD4EQIgAMDgRwiAAACDXwgAAgAMfjEACAAw9IUAIADA4BcCgAAAg18IAAIADH4hAAgAMPiFACAAwOAXAoAAAINfCAACAIMfIQACQABg8CMEQACAwY8QAAEABj9CAAQAGPwIARAAYPAjBkAAgKGPEAABAAY/QgAEABj8CAEQAGDwIwRAAIDBjxAAAYDBD0IABAAGPwgBEAAY/CAE4CXfPgIMf3CdIgDAQxVcrwgA8DAF1y0CAAAQAACAAAAABAAAIAAAAAEAANzHNwFy38XnV6oI5FsFEQAY/oA4QABg8AOCAAGA4Q8IAgQAhj8gBhAAGP6AGEAAYPgDQgABgOEPQgAEAIY/iAEQABj+IATAVwFj+IN7ExsA8IAB2wBsAACYGeuCHRsAljz9H8fhhMJTzvP0ELMNQACwewAY/AgBIYAAICgADH6EgAjgWt4BwPBnFNfTffcyAgA8rHFdbRwBQkAAAGAbwNT/x94BcNM5pTGV9wFe570AGwAMf8BzCRsA3GRO/9gC2AZgA4DhD3hWIQAAEAEIAIBo3V2T1uciQAAA8IMQmBADImB/Dx8BwD0xsPtArar2YqANAABv2A7YBCAAAIJDYKcYEAECgBdueJ8CMGUrgACAf/IlQDAvBGwBBAC2AIY/hIaACNiL3wIwXIFNDwwrDly/GWADwA1bAN95Dp4ZNgEIAICQCFgxBESAAMAWAAjeBiAAEAFA2DbAFkAAABC6DRABAgBbACA0AhAAAARGgC2AAMAWABABCAAArooAPxJAANgCANgCIAAAHCgQANgCAJ4ntgACADct4HkiAgQAG7MFABwqEAChN6wIAFaJAFsAAQAACABsAQBbAAQAAKMjAAGALQAQyBZAAABgC4AAwBYAEAEIANyswFh+DCAAuJgtAOBgIQAIvVlFAIAAAIBbtgB+DCAAsAUAQAAAkLIFQABgCwAE8mMAAQCALQACAFsAAAQAACAAsAUA1n2m/C/vAQgARAAAAgCAlC0AAgBbAAAEAAAJvAcgALAFAEAAALDrgQIBgC0AAAIAABAA2AIAY58lCADcuAAIAHZgCwBcya8CCgAW2gKIAAABAAAIAGwBABAAAIAAwBYA8PxAAAAAAgBbAAAEANtEAAACgEC2AAACgNAtgAgAEAAAgADAFgAAAQAACABsAQAQAACAAMAWAAABAMASqkroCwBsAWwBAAQAIkAEAAgAAEAAYAsAcNkzCAEAAAgAbAGAn/IbAAIAABAA2ALYAgAIABABAAIAWwBgf37+LwAQAbYAgEOHAAARACAAUOXAONb/AgBsAQAEALYAgNO/Z4wAAFsAAAGALQAAAgCAzXj5TwCALQDguSIAwM0KTv8IAABAAGALADj9e5YIAABAAADg9I8AACCe9b8AAMDpHwEAgOGPAABgHOt/AQCA0z8CAIDpw9/pXwAAAAIAAKd/BAAAo4Y/AgCAwOHv9C8AAHDyRwAAMH34O/0LAADCGP5refgIAJz8sQEAwPB3+hcAABj+hr8AAMDwRwAAYPg7/e/JS4AABr/hbwMAgOGPDQAABr/Tvw0AAIa/4W8DAIDBb/gLAABSB7/hLwAACBv8CAAAQge/078AACDstG/4CwAAgga/4S8AAAga+oa/AAAgaOAb/gIAgNDBb/jP4ZsAATD8BQAAGP4J/AgAAIPfBgAADH8BAIDhjwAAwPBHAABg+LMpLwECYPDbAABg+GMDAIDBjw0AAIY/NgAAGPzYAABg+GMDAIDBjwAAwOBHAABg8CMAADD4EQAAGPoIAAAMfQQAgKEPAgDAwAcBAGDggwAAMORBAAAY+vDlbwEAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAAAgAHwEACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAQAAAAAIAABAAAIAAAAAEAAAgAOAJ53m2TwHXGQgAAEAAADj9gwDAAxoAAYAIANcVCABu1t3lYY3h/5n7Az6luj17ecOFVPWWC+k4Dg9LRoWkAEAAIACEAEGDXwAgABABEMrwZ2XeAQAAAQBOO+B+QACAhx64DxAAABj+CADwAAQQACACcN37FBAAeBh6GOJ6h2X5HgCuudB8RwAGP9gA4CEJrmuwAcAmAAx+EAAIATD8QQAgBsDABwEAALzOS4AAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAIAABAAAMB4vwA5MqRVs99UzwAAAABJRU5ErkJggg==",alt:"Prepercolator Logo"})]}),Object(b.jsx)("li",{children:Object(b.jsx)(a.b,{to:"/user/profile",children:"Profile"})}),!0===A.is_admin?Object(b.jsx)("li",{children:Object(b.jsx)(a.b,{to:"/supersecretbusinessportal",children:"Business"})}):null,A?Object(b.jsx)("li",{children:Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),localStorage.removeItem("token"),t.push("/"),window.location.reload()},children:"Logout"})}):null,A.newOrder?Object(b.jsx)("li",{children:Object(b.jsx)(a.b,{to:"/order",children:"Your Current Order"})}):null]})})})}function C(){return Object(b.jsx)("footer",{className:"footer",children:Object(b.jsx)("p",{className:"copyright",children:"\xa9 Prepercolator, 2021"})})}function v(e){var A=e.user,t=Object(n.useState)("ingredients"),c=Object(s.a)(t,2),r=c[0],i=c[1],a=Object(o.f)();return Object(n.useEffect)((function(){!1===A.admin&&a.push("/")}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(B,{user:A}),Object(b.jsx)("main",{children:Object(b.jsxs)("div",{className:"businessPortal",children:[Object(b.jsxs)("div",{className:"bpViewSelect",children:[Object(b.jsxs)("h1",{className:"bpWelcome",children:["Welcome, ",A.username]}),Object(b.jsx)("button",{onClick:function(){return i("ingredients")},children:"See Existing Ingredients"}),Object(b.jsx)("button",{onClick:function(){return i("drinks")},children:"See Existing Drinks"})]}),"ingredients"===r?Object(b.jsx)(h,{user:A}):Object(b.jsx)(I,{user:A})]})}),Object(b.jsx)(C,{})]})}function E(e){var A,t=Object(n.useState)(""),c=Object(s.a)(t,2),r=c[0],i=c[1],a=Object(n.useState)(""),d=Object(s.a)(a,2),l=d[0],u=d[1],g=Object(n.useState)(""),O=Object(s.a)(g,2),h=O[0],x=O[1],f=Object(o.f)();Object(n.useEffect)((function(){var A;(null===(A=e.user)||void 0===A?void 0:A.username)&&f.push("/")}),[null===(A=e.user)||void 0===A?void 0:A.username]);var I=function(e){switch(e.target.name){case"username":i(e.target.value);break;case"email":u(e.target.value);break;case"password":x(e.target.value)}},B=function(){var A=Object(m.a)(p.a.mark((function A(t){var n,c,s;return p.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return t.preventDefault(),n={username:r,email:l,password:h},A.next=4,j.login(n);case 4:if(c=A.sent,void 0===(s=c.data)){A.next=13;break}localStorage.setItem("token",s.token),console.log(s),e.setUser(s.user),f.push("/"),A.next=14;break;case 13:return A.abrupt("return",Object(b.jsx)("div",{children:"Incorrect Username, email or password"}));case 14:x(""),u(""),i("");case 17:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("main",{className:"login-page",children:Object(b.jsxs)("div",{className:"login-window",children:[Object(b.jsx)("img",{className:"logo",src:"../assets/images/logo_bold_white.png"}),Object(b.jsx)("h1",{children:"Welcome to Prepercolator!"}),Object(b.jsx)("h3",{children:"Please Login"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{name:"username",type:"text",value:r,onChange:I,placeholder:"Username"}),Object(b.jsx)("input",{name:"password",type:"password",value:h,onChange:I,placeholder:"Password"})]}),Object(b.jsx)("button",{type:"submit",name:"login",onClick:B,children:"Login"})]})}),Object(b.jsx)(C,{})]})}function D(e){var A=e.user,t=Object(o.f)();Object(n.useEffect)((function(){A.username||t.push("/login")}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(B,{user:A}),Object(b.jsx)("main",{className:"landing-page",children:Object(b.jsxs)("div",{className:"homePage",children:[Object(b.jsxs)("h1",{className:"hpWelcome",children:["Welcome back ",A.username,"!"]}),Object(b.jsx)("h2",{children:"What would you like to do?"}),Object(b.jsxs)("div",{className:"btnBox",children:[Object(b.jsx)("div",{className:"orderLink",children:Object(b.jsx)(a.b,{to:"/order",onClick:function(){A.newOrder=!0},children:"New Order"})}),Object(b.jsx)("div",{className:"drinkLink",children:Object(b.jsx)(a.b,{to:"/drink",children:"New Drink"})})]})]})}),Object(b.jsx)(C,{})]})}function k(e){var A=e.user;return Object(b.jsxs)("div",{className:"settings",children:[Object(b.jsx)("h1",{style:{fontSize:"2rem"},children:"Settings"}),Object(b.jsx)("div",{className:"userAvatar",children:Object(b.jsx)("h1",{children:A.username})}),Object(b.jsxs)("ul",{className:"userOptions",children:[Object(b.jsx)("li",{children:"Update Email"}),Object(b.jsx)("li",{children:"Update Password"}),Object(b.jsx)("li",{children:"Report a problem"})]})]})}function w(e){var A=e.user,t=Object(o.f)(),c=Object(n.useState)([]),r=Object(s.a)(c,2),i=r[0],a=r[1];return Object(n.useEffect)((function(){A.username||t.push("/login");var e=localStorage.getItem("token");j.getUserDrinks(e).then((function(e){console.log(e.data),a(e.data)}))}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(B,{user:A}),Object(b.jsx)("main",{children:Object(b.jsxs)("div",{className:"profile",children:[Object(b.jsxs)("h2",{children:[A.username,"'s Profile"]}),Object(b.jsx)("h3",{children:"Saved Drinks"}),i?i.map((function(e){return Object(b.jsx)(f,{drink:e},e.id)})):Object(b.jsx)(b.Fragment,{children:"Loading..."}),Object(b.jsx)(k,{user:A})]})}),Object(b.jsx)(C,{})]})}var Q=t(7);function N(e){var A=e.cupSize,t=(e.setCupSize,e.drinkIngredients),c=e.setDrinkIngredients,r=e.drinkIngredientsAmnt,i=e.setDrinkIngredientsAmnt,a=Object(n.useState)([]),o=Object(s.a)(a,2),d=o[0],l=o[1];Object(n.useEffect)((function(){j.getIngredients().then((function(e){l(e.data)})).catch((function(e){console.log(e)}))}),[]);var u=function(e,A){var t=Object(Q.a)(d).find((function(A){return A.id==e}));return Object(b.jsx)("div",{className:"ingredient ".concat(t.tier),children:Object(b.jsx)("span",{onClick:function(A){return g(e)},children:t.ingredient_name})},"cupcontent-".concat(e,"-").concat(A))},g=function(e){var A=Object(Q.a)(t),n=Object(Q.a)(r),s=A.indexOf(e),a=n[s],o=parseInt(a);o>1&&(n[s]=o-1,i(n)),1==o&&(A.splice(s,1),n.splice(s,1),c(A),i(n))};return Object(b.jsx)("section",{className:"cup-holder",children:Object(b.jsx)("div",{className:"my-cup cup-".concat(A,"oz"),children:function(){for(var e=[],A=0,n=Object.entries(t);A<n.length;A++)for(var c=Object(s.a)(n[A],2),i=c[0],a=c[1],o=r[i];o>0;o--)e.push(u(a,o));return e}()})})}function y(e){var A=e.drink,t=e.user;return Object(b.jsxs)("div",{className:"userDrinkCard",children:[Object(b.jsx)("div",{children:Object(b.jsx)("h3",{children:A.name})}),Object(b.jsx)(N,{drink:A}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{children:"Last"}),t.order?Object(b.jsx)("button",{children:"Add to your order"}):null,Object(b.jsx)("button",{children:"Next"})]})]})}function S(e){var A=e.user;return Object(b.jsxs)("main",{children:[Object(b.jsxs)("h2",{children:[A.username,"'s Saved Drinks"]}),Object(b.jsx)("div",{className:"drinkSlideshow",children:A.drinks?Object(b.jsxs)(b.Fragment,{children:[A.drinks.map((function(e){return Object(b.jsx)(y,{drink:e,user:A},e.id)}))," "]}):Object(b.jsx)(b.Fragment,{children:"Loading..."})}),Object(b.jsx)(a.b,{to:"/drink",children:"Create a new drink"})]})}t(34);function G(e){var A=e.drinkIngredients,t=e.setDrinkIngredients,c=e.drinkIngredientsAmnt,r=e.setDrinkIngredientsAmnt,i=Object(n.useState)([]),a=Object(s.a)(i,2),o=a[0],d=a[1],l=Object(n.useState)([]),u=Object(s.a)(l,2),g=u[0],O=u[1],h=Object(n.useState)([]),x=Object(s.a)(h,2),p=x[0],m=x[1],f=Object(n.useState)([]),I=Object(s.a)(f,2),B=I[0],C=I[1];Object(n.useEffect)((function(){j.getIngredientByTier("base").then((function(e){d(e.data)})).catch((function(e){console.log(e)})),j.getIngredientByTier("main").then((function(e){O(e.data)})).catch((function(e){console.log(e)})),j.getIngredientByTier("flavor").then((function(e){m(e.data)})).catch((function(e){console.log(e)})),j.getIngredientByTier("topping").then((function(e){C(e.data)})).catch((function(e){console.log(e)}))}),[]);var v=function(e){var n=Object(Q.a)(A),i=Object(Q.a)(c);n.includes(e)?(i[n.indexOf(e)]+=1,r(i)):(n.push(e),i[n.indexOf(e)]=1,r(i),t(n))};return Object(b.jsx)("section",{className:"ingredientList",children:Object(b.jsxs)("div",{className:"anti-scroll",children:[Object(b.jsxs)("ul",{className:"ingredients-bases",children:[Object(b.jsx)("label",{children:"base"}),o.map((function(e){return Object(b.jsx)("li",{className:e.icon?"ingredient-".concat(e.icon):"ingredient-liquid-0",id:e.id,onClick:function(e){return v(e.target.id)},children:e.ingredient_name},"ingredient-".concat(e.id))}))]}),Object(b.jsxs)("ul",{className:"ingredients-mains",children:[Object(b.jsx)("label",{children:"main"}),g.map((function(e){return Object(b.jsx)("li",{className:e.icon?"ingredient-".concat(e.icon):"ingredient-liquid-0",id:e.id,onClick:function(e){return v(e.target.id)},children:e.ingredient_name},"ingredient-".concat(e.id))}))]}),Object(b.jsxs)("ul",{className:"ingredients-flavors",children:[Object(b.jsx)("label",{children:"flavors"}),p.map((function(e){return Object(b.jsx)("li",{className:e.icon?"ingredient-".concat(e.icon):"ingredient-liquid-0",id:e.id,onClick:function(e){return v(e.target.id)},children:e.ingredient_name},"ingredient-".concat(e.id))}))]}),Object(b.jsxs)("ul",{className:"ingredients-toppings",children:[Object(b.jsx)("label",{children:"toppings"}),B.map((function(e){return Object(b.jsx)("li",{className:e.icon?"ingredient-".concat(e.icon):"ingredient-liquid-0",id:e.id,onClick:function(e){return v(e.target.id)},children:e.ingredient_name},"ingredient-".concat(e.id))}))]})]})})}function M(e){var A=e.user,t=Object(n.useState)(12),c=Object(s.a)(t,2),r=c[0],i=c[1],a=Object(n.useState)(""),d=Object(s.a)(a,2),l=d[0],u=d[1],O=Object(n.useState)([]),h=Object(s.a)(O,2),x=h[0],p=h[1],m=Object(n.useState)([]),f=Object(s.a)(m,2),I=(f[0],f[1]),v=Object(n.useState)([]),E=Object(s.a)(v,2),D=E[0],k=E[1],w=Object(n.useState)(0),y=Object(s.a)(w,2),S=y[0],M=y[1],T=Object(n.useState)(0),F=Object(s.a)(T,2),W=(F[0],F[1],Object(n.useState)([])),L=Object(s.a)(W,2),Y=(L[0],L[1],Object(n.useState)(!0)),H=Object(s.a)(Y,2),R=H[0],J=H[1],P=Object(n.useState)(!0),U=Object(s.a)(P,2),z=U[0],V=U[1],K=Object(n.useState)([]),X=Object(s.a)(K,2),q=X[0],Z=X[1],_=Object(n.useState)({drink_name:"",ingredients:[],ingredient_amount:[],is_vegan:!1,is_steamed:!1,userId:A.id,size:12,price:0}),$=Object(s.a)(_,2),ee=$[0],Ae=$[1];Object(o.f)();Object(n.useEffect)((function(){j.getIngredients().then((function(e){Z(e.data)}));var e=[];x.forEach((function(A){e.push(parseInt(A))})),I(e)}),[]);var te=function(){var e={size:r,drink_name:l,ingredients:Object(Q.a)(x),ingredient_amount:Object(Q.a)(D),price:S,is_steamed:!1,userId:A.id};e.ingredients.forEach((function(A){!1===A.is_vegan?(e.is_vegan=!1,Ae(Object(g.a)(Object(g.a)({},ee),{},{is_vegan:!1}))):(e.is_vegan=!0,Ae(Object(g.a)(Object(g.a)({},ee),{},{is_vegan:!0})))}));var t=[],n=0;q.forEach((function(e){for(var A=0;A<x.length;A++){var n=x[A];e.id==n&&t.push(e.price_per_unit)}})),console.log(t),t.forEach((function(e){D.forEach((function(A){n+=e*A}))})),console.log(n),M(n),e.price=n,Ae(Object(g.a)(Object(g.a)({},ee),{},{price:n})),console.log(e),j.addNewDrinkTemplate(e).then((function(e){200===e.status?console.log("Drink added!"):console.log("something went wrong...")}))},ne=function(e){var A=r;if("increase"==e){switch(r){case 8:A=12;break;case 12:case 16:A=16}return A>=16?J(!1):(J(!0),V(!0)),void i(A)}if("decrease"==e){switch(r){case 8:case 12:A=8;break;case 16:A=12}return A<=8?V(!1):(J(!0),V(!0)),void i(A)}};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(B,{user:A}),Object(b.jsxs)("main",{className:"newdrink",children:[Object(b.jsx)("input",{name:"drinkName",type:"text",value:l,onChange:function(e){u(e.target.value),Ae(Object(g.a)(Object(g.a)({},ee),{},{drink_name:e.target.value}))},placeholder:"Drink Name"}),Object(b.jsx)(N,{cupSize:r,setCupSize:i,drinkIngredients:x,setDrinkIngredients:p,drinkIngredientsAmnt:D,setDrinkIngredientsAmnt:k}),Object(b.jsx)(G,{cupSize:r,setCupSize:i,drinkName:l,setDrinkName:u,drinkIngredients:x,setDrinkIngredients:p,addIngredient:function(e){j.getIngredients().then((function(A){A.data.forEach((function(A){A.id===e&&x.push(A)}))}))},removeIngredient:function(e){var A=x.findIndex((function(A){return A.id===e}));-1!==A&&x.splice(A,1)},saveDrink:te,drinkIngredientsAmnt:D,setDrinkIngredientsAmnt:k,newDrink:ee,setNewDrink:Ae}),Object(b.jsxs)("div",{className:"btnHolder drink-mod-block",children:[Object(b.jsx)("button",{className:"drink-save",onClick:te}),Object(b.jsx)("button",{className:"drink-size-increase",disabled:!R,onClick:function(e){return ne("increase")}}),Object(b.jsx)("button",{className:"drink-size-decrease",disabled:!z,onClick:function(e){return ne("decrease")}})]})]}),Object(b.jsx)(C,{})]})}function T(e){var A=e.item,t=e.order,n=e.setOrder,c=e.index;return Object(b.jsxs)("li",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(b.jsx)("span",{children:null===A||void 0===A?void 0:A.drink_name}),Object(b.jsxs)("span",{children:["$",null===A||void 0===A?void 0:A.price]}),Object(b.jsx)("button",{value:c,onClick:function(e){var A=e.target.value,c=Object(Q.a)(t);c.splice(A,1),n(c)},children:"x"})]})}function F(e){var A=e.user,t=e.order,c=e.setOrder,r=Object(n.useState)(1),i=Object(s.a)(r,2),a=i[0],o=i[1],d=Object(n.useState)(0),l=Object(s.a)(d,2),u=l[0],g=l[1],O=function(e){e.preventDefault(),o(e.target.value)},h=function(){var e=Object(m.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),console.log("ID OF ITEM TO ADD: ".concat(a)),r=Object(Q.a)(t),console.log("OLD ORDER:"),console.log(r),A.drinks.forEach((function(e){e.id==a&&r.push(e)})),console.log("NEW DRINK ADDED FROM USER.DRINKS"),c(r),localStorage.setItem("currentOrder",t);case 9:case"end":return e.stop()}}),e)})));return function(A){return e.apply(this,arguments)}}();return Object(n.useEffect)(Object(m.a)(p.a.mark((function e(){var A;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A=0,t.forEach((function(e){A+=e.price})),g(A);case 3:case"end":return e.stop()}}),e)})))),Object(b.jsxs)("div",{className:"orderCard",children:[Object(b.jsx)("h2",{children:"Your Order:"}),Object(b.jsxs)("ul",{children:[t?t.map((function(e,A,n){return Object(b.jsx)(T,{index:A,item:e,order:t,setOrder:c},A)})):Object(b.jsx)(b.Fragment,{children:"Loading..."}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{children:["Total: $",u]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Add a Drink to your order"}),Object(b.jsxs)("form",{name:"orderform",children:[Object(b.jsx)("select",{name:"savedDrinkSelect",value:a,onChange:O,onSubmit:O,children:A.drinks?A.drinks.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.drink_name},e.id)})):Object(b.jsx)(b.Fragment,{children:"Loading..."})}),Object(b.jsx)("button",{name:"addDrink",type:"submit",onClick:h,children:"Add"}),Object(b.jsx)("button",{name:"sendOrder",type:"submit",onClick:function(e){if(e.preventDefault(),"sendOrder"===e.target.name){var n={userId:A.id,total_price:u,drinks:t};console.log(n),j.addOrder(n).then((function(e){return 200!==e.status?Object(b.jsx)(b.Fragment,{children:"ERROR SENDING NEW ORDER"}):Object(b.jsx)(b.Fragment,{children:"ORDER ADDED TO ORDERHISTORY"})}))}},children:"Complete Order"})]})]})]})}function W(e){var A=e.user;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(B,{user:A}),Object(b.jsxs)("main",{className:"userOrderHistory",children:[Object(b.jsx)("h2",{children:"Your Previous Orders:"}),A.orderHistory.map((function(e){return Object(b.jsx)(F,{order:e})}))]}),Object(b.jsx)(C,{})]})}function L(e){var A=e.user,t=Object(n.useState)([]),c=Object(s.a)(t,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){})),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(B,{user:A,order:r}),Object(b.jsx)("main",{children:Object(b.jsx)(F,{user:A,order:r,setOrder:i})}),Object(b.jsx)(C,{})]})}t(30);function Y(){var e=Object(n.useState)({}),A=Object(s.a)(e,2),t=A[0],c=A[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("token");e&&j.getUserByToken(e).then((function(e){c(e.data)}))}),[]),Object(b.jsx)(u.Provider,{value:t,children:Object(b.jsx)(a.a,{children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",children:Object(b.jsx)(D,{user:t,setUser:c})}),Object(b.jsx)(o.a,{path:"/login",children:Object(b.jsx)(E,{user:t,setUser:c})}),Object(b.jsx)(o.a,{path:"/supersecretbusinessportal",children:Object(b.jsx)(v,{user:t,setUser:c})}),Object(b.jsx)(o.a,{path:"/drink",children:Object(b.jsx)(M,{user:t,setUser:c})}),Object(b.jsx)(o.a,{path:"/order",children:Object(b.jsx)(L,{user:t,setUser:c})}),Object(b.jsx)(o.a,{path:"/user/drinks",children:Object(b.jsx)(S,{user:t,setUser:c})}),Object(b.jsx)(o.a,{path:"/user/orders",children:Object(b.jsx)(W,{user:t,setUser:c})}),Object(b.jsx)(o.a,{path:"/user/profile",children:Object(b.jsx)(w,{user:t,setUser:c})})]})})})}function H(){return Object(b.jsx)(Y,{})}i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(H,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.50625399.chunk.js.map